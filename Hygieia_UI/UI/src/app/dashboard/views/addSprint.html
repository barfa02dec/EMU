<link href="assets/images/angular-datepicker.css" rel="stylesheet" type="text/css" />
<script src="assets/images/angular-datepicker.js"></script>
<link href="assets/images/fld/angular-datepicker.css" rel="stylesheet" type="text/css" />
<script src="assets/images/fld/angular-datepicker.js"></script>
<widget-modal class="border-prop-modals">
    <div class="widget-modal-heading">{{asc.title}}</div>
    <form name="asc.addSprint" class="form" ng-submit="asc.postSprint()" ng-if="asc.normalformText" novalidate>
        <div class="col-md-6">
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Sprint id<span style="color:red">*</span></label>
                </div>
                <div class="col-md-8">
                    <form-group input="sprintid" errors="{required: 'Sprint id is required',maxlength: 'Max length of 50 characters', createError: 'Error creating dashboard. Change title and try again.', pattern : 'Special character(s) found. Please enter only letters, numbers or spaces.'}">
                        <input autofocus tabindex="1" type="text" name="sprintid" class="form-control" placeholder="Sprint id" ng-model="asc.sprintPayload.sprintId" required maxlength="50" numbers-only autocomplete="off" ng-pattern="/^[a-zA-Z0-9 ]*$/" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Sprint status<span style="color:red">*</span></label>
                </div>
                <div class="col-md-8">
                    <form-group input="selectedTemplate" errors="{required: 'Please select the status'}">
                        <select tabindex="3" name="selectedTemplate" ng-options="o.value as o.label for o in options" ng-model="asc.sprintPayload.released" class="form-control" required>
                            <option value="" disabled selected hidden>Choose a value</option>
                        </select>
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Comitted story points</label>
                </div>
                <div class="col-md-8">
                    <form-group input="comittedstorypoints">
                        <input tabindex="6" type="text" numbers-only name="comittedstorypoints" class="form-control" placeholder="Committed story points" ng-model="asc.sprintPayload.committedStoryPoints" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Comitted issue count</label>
                </div>
                <div class="col-md-8">
                    <form-group input="comittedissuecount">
                        <input tabindex="8" type="text" numbers-only name="comittedissuecount" class="form-control" placeholder="Committed issue count" ng-model="asc.sprintPayload.committedIssueCount" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                </div>
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Count</label>
                </div>
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Points</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props" for="pwd">Stories added</label>
                </div>
                <div class="col-md-4">
                    <form-group input="count">
                        <input tabindex="10" type="text" numbers-only name="count" class="form-control" placeholder="Count" ng-model="asc.sprintPayload.storiesAdded" />
                    </form-group>
                </div>
                <div class="col-md-4">
                    <form-group input="points">
                        <input tabindex="11" type="text" numbers-only name="points" class="form-control" placeholder="Points" ng-model="asc.sprintPayload.storiesAddedPoints" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props" for="pwd">Stories removed</label>
                </div>
                <div class="col-md-4">
                    <form-group input="countstoryremoved">
                        <input tabindex="12" type="text" numbers-only name="countstoryremoved" class="form-control" placeholder="Count" ng-model="asc.sprintPayload.storiesRemoed" />
                    </form-group>
                </div>
                <div class="col-md-4">
                    <form-group input="pointstoryremoved">
                        <input tabindex="13" type="text" numbers-only name="pointstoryremoved" class="form-control" placeholder="Points" ng-model="asc.sprintPayload.storiesRemovedPoints" />
                    </form-group>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Sprint name<span style="color:red">*</span></label>
                </div>
                <div class="col-md-8">
                    <form-group input="sprintname" errors="{required: 'Sprint name is required', maxlength: 'Max length of 50 characters', createError: 'Error creating dashboard. Change title and try again.', pattern : 'Special character(s) found. Please enter only letters, numbers or spaces.'}">
                        <input tabindex="2" type="text" name="sprintname" class="form-control" placeholder="Sprint name" ng-model="asc.sprintPayload.sprintName" required maxlength="50" autocomplete="off" ng-pattern="/^[a-zA-Z0-9 ]*$/" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props" for="pwd">Sprint date<span style="color:red">*</span></label>
                </div>
                <div class="col-md-4" style="height:45px;">
                    <form-group input="date1" errors="{pattern:'Please enter date in correct format(yyyy-MM-dd)',required:'Please enter start date'}">
                        <datepicker date-format="yyyy-MM-dd" selector="form-control" date-max-limit="{{asc.sprintPayload.endDate}}">
                            <input tabindex="4" class="form-control font-fontawesome font-light" ng-model="asc.sprintPayload.startDate" name="date1" placeholder="  Start date" ng-pattern="/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/" required/>
                        </datepicker>
                    </form-group>
                </div>
                <div class="col-md-4">
                    <form-group input="date2" errors="{pattern:'Please enter date in correct format(yyyy-MM-dd)',required:'Please enter end date'}">
                        <datepicker date-format="yyyy-MM-dd" selector="form-control" date-min-limit="{{asc.sprintPayload.startDate}}">
                            <input tabindex="5" class="form-control font-fontawesome font-light" ng-pattern="/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/" ng-model="asc.sprintPayload.endDate" name="date2" placeholder="  End date" required/>
                        </datepicker>
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Completed story points:</label>
                </div>
                <div class="col-md-8">
                    <form-group input="completedstorypointscol2">
                        <input tabindex="7" type="text" numbers-only name="completedstorypointscol2" class="form-control" placeholder="Completed story points" ng-model="asc.sprintPayload.completedStoryPoints" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props">Completed issue count:</label>
                </div>
                <div class="col-md-8">
                    <form-group input="comittedissuecountcol2">
                        <input tabindex="9" type="text" numbers-only name="comittedissuecountcol2" class="form-control" placeholder="Completed issue count" ng-model="asc.sprintPayload.completedIssueCount" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                </div>
                <div class="col-md-2">
                    <label class="control-label createproj-label-props" for="pwd">Low</label>
                </div>
                <div class="col-md-2">
                    <label class="control-label  createproj-label-props" for="pwd">Medium</label>
                </div>
                <div class="col-md-2">
                    <label class="control-label  createproj-label-props" for="pwd">High</label>
                </div>
                <div class="col-md-2">
                    <label class="control-label  createproj-label-props" for="pwd">Critical</label>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label  createproj-label-props" for="pwd">Defects found</label>
                </div>
                <div class="col-md-2">
                    <form-group input="lowone">
                        <input tabindex="14" type="text" numbers-only name="lowone" class="form-control" placeholder="Low" ng-model="asc.sprintPayload.lowDefectsFound" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="mediumone">
                        <input tabindex="15" type="text" numbers-only name="mediumone" class="form-control" placeholder="Medium" ng-model="asc.sprintPayload.mediumDefectsFound" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="highone">
                        <input tabindex="16" type="text" numbers-only name="highone" class="form-control" placeholder="High" ng-model="asc.sprintPayload.highDefectsFound" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="criticalone">
                        <input tabindex="17" type="text" numbers-only name="criticalone" class="form-control" placeholder="Critical" ng-model="asc.sprintPayload.criticalDefectsFound" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props" for="pwd">Defects resolved</label>
                </div>
                <div class="col-md-2">
                    <form-group input="Lowtwo">
                        <input tabindex="18" type="text" numbers-only name="Lowtwo" class="form-control" placeholder="Low" ng-model="asc.sprintPayload.lowDefectsClosed" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Mediumtwo">
                        <input tabindex="19" type="text" numbers-only name="Mediumtwo" class="form-control" placeholder="Medium" ng-model="asc.sprintPayload.mediumDefectsClosed" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Hightwo">
                        <input tabindex="20" type="text" numbers-only name="Hightwo" class="form-control" placeholder="High" ng-model="asc.sprintPayload.highDefectsClosed" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Criticaltwo">
                        <input tabindex="21" type="text" numbers-only name="Criticaltwo" class="form-control" placeholder="Critical" ng-model="asc.sprintPayload.criticalDefectsClosed" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props" for="pwd">Defects unresolved</label>
                </div>
                <div class="col-md-2">
                    <form-group input="Lowthree">
                        <input tabindex="22" type="text" numbers-only name="Lowthree" class="form-control" placeholder="Low" ng-model="asc.sprintPayload.lowDefectsUnresolved" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Mediumthree">
                        <input tabindex="23" type="text" numbers-only name="Mediumthree" class="form-control" placeholder="Medium" ng-model="asc.sprintPayload.mediumDefectsUnresolved" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Highthree">
                        <input tabindex="24" type="text" numbers-only name="Highthree" class="form-control" placeholder="High" ng-model="asc.sprintPayload.highDefectsUnresolved" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Criticalthree">
                        <input tabindex="25" type="text" numbers-only name="Criticalthree" class="form-control" placeholder="Critical" ng-model="asc.sprintPayload.criticalDefectsUnresolved" />
                    </form-group>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label class="control-label createproj-label-props" for="pwd">Sprint defects resolved</label>
                </div>
                <div class="col-md-2">
                    <form-group input="Lowthree">
                        <input tabindex="26" type="text" numbers-only name="Lowthree" class="form-control" placeholder="Low" ng-model="asc.sprintPayload.sprintLowDefectsResolved" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Mediumthree">
                        <input tabindex="27" type="text" numbers-only name="Mediumthree" class="form-control" placeholder="Medium" ng-model="asc.sprintPayload.sprintMediumDefectsResolved" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Highthree">
                        <input tabindex="28" type="text" numbers-only name="Highthree" class="form-control" placeholder="High" ng-model="asc.sprintPayload.sprintHighDefectsResolved" />
                    </form-group>
                </div>
                <div class="col-md-2">
                    <form-group input="Criticalthree">
                        <input tabindex="29" type="text" numbers-only name="Criticalthree" class="form-control" placeholder="Critical" ng-model="asc.sprintPayload.sprintCriticalDefectsResolved" />
                    </form-group>
                </div>
            </div>
        </div>
        <form-group>
            <div style="padding-left: 12px;">
                <button tabindex=30 ng-if="asc.addScreen" type="submit" class="btn btn-info green-btn-props project-map-add-btn" style="padding-top: 5px;margin-top: 50px;width: 13%;">Create</button>
                <button ng-if="asc.updateScreen" type="submit" class="btn btn-info green-btn-props project-map-add-btn" style="padding-top: 5px;margin-top: 50px;width: 13%;margin-left: 20%;">Update</button>
                <button tabindex=31 type="button" class="btn btn-default white-cancel-btn" style="padding-top: 3px;margin-left: 20px;margin-top: 44px;width: 13% !important;" ng-click="$close()">Cancel</button>
            </div>
        </form-group>
    </form>
    <div class="" ng-click="asc.hideForm()">
        <hr>
        <span ng-if="asc.prevHeader" style="cursor: pointer;"><img src="assets/images/arrow_right.png" style="vertical-align: sub">
   View previously added sprints</span>
        <div class="" ng-if="asc.prevousText">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr style="font-weight:400;font-size:11px">
                        <th>Sprint ID</th>
                        <th>Sprint Name</th>
                        <th>Sprint Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="font-props" ng-repeat="sprintdata in asc.spAllDetails">
                        {{sprintdata.sprintData.state}}
                        <td>{{sprintdata.sprintData.sprintId}}</td>
                        <td>{{sprintdata.sprintData.sprintName}}</td>
                        <td ng-if="sprintdata.closed == true"><span>
                    <img src="assets/images/icon_completed.png">
                 </span>CLOSED</td>
                        <td ng-if="sprintdata.closed == false"><span>
                     <svg version="1.1"
                           x="0px" y="0px" width="22px" height="19px" viewBox="0 0 25 19" style="enable-background:new 0 0 25 19;" xml:space="preserve">
                           <style type="text/css">
                              .stopen0{fill:#FF8A22;}
                           </style>
                           <defs></defs>
                           <g>
                              <path class="stopen0" d="M5.8,15H3l0.8-0.8c0.4-0.4,0.4-0.9,0-1.3c-0.4-0.4-0.9-0.4-1.3,0l-2.3,2.3c-0.4,0.4-0.4,0.9,0,1.3l2.3,2.3
                                 C2.7,18.9,3,19,3.2,19c0.2,0,0.5-0.1,0.6-0.3c0.4-0.4,0.4-0.9,0-1.3l-0.6-0.6H8L5.8,15z M13.2,0c-1.3,0-2.6,0.3-3.7,0.8h0.2
                                 c0.5,0,1,0.4,1,1v0.5c0.8-0.3,1.6-0.5,2.5-0.5c3.6,0,6.6,3,6.6,6.6c0,2-0.9,3.8-2.4,5.1H20c1.1-1.4,1.7-3.2,1.7-5.1
                                 C21.7,3.8,17.9,0,13.2,0z"/>
                              <path d="M13.2,15c-3.6,0-6.6-3-6.6-6.6c0-1.3,0.4-2.5,1-3.5v1c0,0.5,0.4,0.9,0.9,0.9c0.5,0,0.9-0.4,0.9-0.9V2.7
                                 c0-0.5-0.4-0.9-0.9-0.9H5.3c-0.5,0-0.9,0.4-0.9,0.9s0.4,0.9,0.9,0.9h1c-1,1.4-1.5,3-1.5,4.8c0,4.7,3.8,8.4,8.4,8.4H25V15H13.2z"/>
                           </g>
                        </svg>
                 </span>OPEN
                            <span style="margin-left: 1%;" ng-click="asc.updateSprint(sprintdata)">
                     <svg version="1.1"
            x="0px" y="0px" width="13px" height="13px" viewBox="0 0 19 19" style="enable-background:new 0 0 19 19;" xml:space="preserve">
<style type="text/css">
            .stedit0{fill:#404041;}
</style>
<defs>
</defs>
<path class="stedit0" d="M18.3,0.7C17.8,0.3,17.2,0,16.5,0c-0.7,0-1.3,0.3-1.8,0.7l-1,1L1.2,14.2c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1
            c0,0,0,0,0,0c0,0,0,0,0,0.1L0,18.5c0,0.1,0,0.3,0.1,0.4C0.2,19,0.3,19,0.4,19c0,0,0.1,0,0.1,0l4.1-1.1c0,0,0,0,0.1,0c0,0,0,0,0,0
            c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0L17.3,5.3l1-1C18.7,3.8,19,3.2,19,2.5C19,1.8,18.7,1.2,18.3,0.7z M1,18l0.7-2.7l2,2L1,18z M4.5,16.9
            l-2.4-2.4L14,2.6L16.4,5L4.5,16.9z M17.7,3.7L17,4.4L14.6,2l0.7-0.7C15.6,1,16,0.8,16.5,0.8c0.5,0,0.9,0.2,1.2,0.5
            C18.3,2,18.3,3.1,17.7,3.7z"/>
</svg>

                 </span>
                        </td>
                        <!--     <td><span ng-if="!jdv.mySplit(sprintdata.sprintData.state,0) == 'CLOSED' ">
                    <img src="assets/images/icon_completed.png">
                 </span>{{sprintdata.sprintData.state}}</td> -->
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div ng-click="asc.showForm()">
        <span ng-if="!asc.prevHeader" style="cursor: pointer;"><img src="assets/images/arrow_right.png" style="vertical-align: sub">
   Add sprint</span></div>
</widget-modal>