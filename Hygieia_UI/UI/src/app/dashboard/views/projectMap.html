<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> 
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<div class="main-container project-map-container" style="background: #fff !important;">
<div class="blue-header" style="height: 50px;
   width:100%;background: #1766A4">
 <!--   <span class="hamburger-ListdashPage project-map-hamburger">
      <svg version="1.1"
         xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
         x="0px" y="0px" width="15px" height="9px" viewBox="0 0 15 9" style="overflow:scroll;enable-background:new 0 0 15 9;"
         xml:space="preserve">
         <style type="text/css">
            .stham0{fill:#FFFFFF;}
         </style>
         <defs></defs>
         <g>
            <g>
               <path class="stham0" d="M0,0h15v1.5H0V0z M0,3.8h15v1.5H0V3.8z M0,7.5h15V9H0V7.5z"/>
            </g>
         </g>
      </svg>
   </span> -->
   <span class="edMenu-ListDash-Page project-map-ed">
   <img src="assets/images/emu-5w.png" class="emu-logo-props-small">
   </span>
   <span class="edtext-ListdashPage project-map-edText">Engineering Metrics Unified</span>
   <span class="edtext-ListdashPage userloggedin-label">{{pm.usernamepro}}</span>
   <div class="dropdown-logout dropdown-layout">
      <div class="abc">
        <!--  <svg version="1.1"
            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://www.happiestminds.com/"
            x="0px" y="0px" width="20px" height="20px" viewBox="0 0 20 20" style="overflow:scroll;enable-background:new 0 0 20 20;"
            xml:space="preserve">
            <style type="text/css">
               .stedprofile0{fill:#FFFFFF;}
            </style>
            <defs></defs>
            <g>
               <g>
                  <path class="stedprofile0" d="M2.9,2.9C4.9,1,7.2,0,10,0s5.1,1,7.1,2.9S20,7.2,20,10S19,15.1,17,17S12.7,20,10,20S4.9,19,2.9,17
                     S0,12.7,0,10S1,4.9,2.9,2.9z M10,17.2c2.5,0,4.5-1.1,6-3.2c0-0.9-0.7-1.6-2.1-2.2s-2.7-0.9-3.9-0.9s-2.5,0.3-3.9,0.9S4,13.1,4,14
                     C5.5,16.1,7.5,17.2,10,17.2z M12.1,3.9C11.5,3.3,10.8,3,10,3S8.5,3.3,7.9,3.9S7,5.2,7,6s0.3,1.5,0.9,2.1S9.2,9,10,9
                     s1.5-0.3,2.1-0.9S13,6.8,13,6S12.7,4.5,12.1,3.9z"/>
               </g>
            </g>
         </svg> -->
         <img src="assets/images/Group 131.png" class="log-out-icon-size"></td>
      </div>
      <div class="dropdown-contents" style="right: -5px;">
         <!-- <a href="#/userManagement"  ng-click="pm.UserManagement()" style="cursor: pointer;">User Management</a> -->
         <a ng-click="pm.logout()" style="cursor: pointer;">Sign out</a>
      </div>
   </div>
</div>
<div class="page-header-gradient col-md-12" style="background-image: url('assets/images/bg_page_header.png');">
  
      <div class="">
         <div class="col-md-2 project-header-label">
            <div class="">
               Projects
            </div>
            <!--  <div class="" style="font-size: 14px;">Choose a Project</div> -->
         </div>
         <div class="col-md-9"></div>
         <div class="col-md-1" style="padding-left: 3px;
    padding-top: 1%;">
            <div ng-if="pm.CreateProjects">
               <input type="submit"  class="btn btn-info project-map-add-btn" value="New project"  ng-click = "pm.createDashboard()" >
            </div>
         </div>
      </div>
 
</div>
<div class="content-goes">
   <div class="col-md-12">
      <div class="col-md-2 layout-sepeartion-firstdiv">
        <!--  <div class="chooseproject-label">Choose a project<span class="label label-default"></span></div> -->
      </div>
      <div class="col-md-7"></div>
     <!--  <div class="col-md-2 layout-sepeartion-seconddiv" >
         <select class="form-control selectbox-props" id="sel1">
            <option>Search By</option>
            <option>Project ID</option>
            <option>Project Name</option>
            <option>BU</option>
         </select>
      </div> -->
      <div class="col-md-3 layout-sepeartion-thirddiv">
         <form>
            <div class="form-group">
               <label for="input-md"></label>
               <input class="form-control input-md project-map-search-bar" id="inputmd" type="text" placeholder="Search for project" ng-model="pm.searchText" style="width: 100%;border-radius: 4px;">
            </div>
         </form>
      </div>
   </div>
   <div class="col-md-12">
      <div class="col-md-1"></div>
      <div class="col-md-1"></div>
   </div>
   <table class="table table-bordered table-striped table-layoutprops table-layoutprops">
      <thead style="background:#EFEFEF;">
         <tr>
            <th>Project ID</th>
            <th>Project Name</th>
            <th>Customer Name</th>
            <th>Project Owner</th>
            <th>Line of BU</th>
            <th>Program</th>
            <!-- <th>Status</th> -->
            <th>Actions</th>
         </tr>
      </thead>
      <tbody>
         <tr ng-repeat="proj in pm.getAllProjects | filter:pm.searchText |
            pagination: curPage * pm.pageSize | limitTo: pm.pageSize">
            <td ng-click="showDahboardPage(proj.id,proj.projectName,proj.projectId);" style="cursor: pointer;max-width: 96px;" class="project-map-list-data" ng-attr-title="{{proj.projectId}}">{{proj.projectId}}</td>
            <td ng-show="proj.editorEnabled">
               <input type="" name="" ng-model="proj.projectName" class="set-width-input edit-inputbox-props middle">
            </td>
            <td ng-show="!proj.editorEnabled" style="" class="project-map-list-data" ng-click="showDahboardPage(proj.id,proj.projectName,proj.projectId);" ng-attr-title="{{proj.projectName}}">{{proj.projectName}}</td>
            <td ng-show="proj.editorEnabled">
               <input type="" name="" ng-model="proj.client" class="set-width-input edit-inputbox-props middle">
            </td>
            <td ng-show="!proj.editorEnabled" style="" class="project-map-list-data" ng-click="showDahboardPage(proj.id,proj.projectName,proj.projectId);" ng-attr-title="{{proj.client}}">{{proj.client}}</td>
            <td ng-show="proj.editorEnabled">
               <input type="" name="" ng-model="proj.projectOwner" class="set-width-input edit-inputbox-props middle">
            </td>
            <td ng-show="!proj.editorEnabled" class="project-map-list-data coloumn-width-customized" ng-click="showDahboardPage(proj.id,proj.projectName,proj.projectId);" ng-attr-title="{{proj.projectOwner}}">{{proj.projectOwner}}</td>
            <td ng-show="proj.editorEnabled">
               <input type="" name="" ng-model="proj.businessUnit" class="set-width-input edit-inputbox-props middle">
            </td>
            <td ng-show="!proj.editorEnabled" class="project-map-list-data coloumn-width-customized" ng-click="showDahboardPage(proj.id,proj.projectName,proj.projectId);" ng-attr-title="{{proj.businessUnit}}">{{proj.businessUnit}}</td>
            <td ng-show="proj.editorEnabled">
               <input type="" name="" ng-model="proj.program" class="set-width-input edit-inputbox-props middle">
            </td>
            <td ng-show="!proj.editorEnabled" class="project-map-list-data coloumn-width-customized" ng-click="showDahboardPage(proj.id,proj.projectName,proj.projectId);" ng-attr-title="{{proj.program}}">{{proj.program}}</td>
            <!--  <td><img src="assets/images/status_amber.png" style="height: 20px;
               width: 20px;">Near Critical</td> -->
            <td>
               <span class="" ng-repeat="innerItem in proj.usersGroup">
               <span class="" ng-repeat="childItem in innerItem.userRoles">
               <span class="" ng-show="!proj.editorEnabled && childItem.permissions.indexOf('ADD_USER') !== -1 && innerItem.user.includes(pm.usernamepro)">
               <img src="assets/images/icon_add_user.png " class="ed-image-props project-map-crud-icons project-map-padding-icons"  ng-click="pm.shareProjectPopUp(proj)" title="Add user">
               </span>
               </span></span>
               <span class="" ng-repeat="innerItem in proj.usersGroup">
               <span class="" ng-repeat="childItem in innerItem.userRoles">
               <span class="" ng-show="!proj.editorEnabled && childItem.permissions.indexOf('EDIT_PROJECT') !== -1 && innerItem.user.includes(pm.usernamepro)">
               <img src="assets/images/icon_edit.png " class="ed-image-props project-map-crud-icons project-map-padding-icons"  ng-click="pm.enableEditor(proj.id)" title="Edit">
               </span></span></span>
               <span ng-click="pm.editproject(proj)" ng-show="proj.editorEnabled">
               <img src="assets/images/savNew.png " class="ed-image-props project-map-crud-icons project-map-padding-icons"  title="Save">
               </span> 
               <span class="" ng-repeat="innerItem in proj.usersGroup" ng-init="inner.innerVariable=innerItem.user">
               <span class="" ng-repeat="childItem in innerItem.userRoles" ng-init="my.Variable=childItem.permissions">
               <span ng-show="childItem.permissions.indexOf('DELETE_PROJECT') !== -1 && innerItem.user.includes(pm.usernamepro)">
               <img src="assets/images/icon_delete.png " class="ed-image-props project-map-crud-icons project-map-padding-icons" ng-click="pm.deleteProjectModel(proj)" title="Delete" > 
               </span>
               </span>  </span> 
            </td>
         </tr>
      </tbody>
   </table>
</div>
<div class="pagination-div pagination-parentdiv-props" ng-show="pm.getAllProjects.length">
   <button ng-click="curPage=curPage-1" ng-disabled="curPage == 0" type="button" class="pagination-btn-props">Prev</button>
   <span>Page {{curPage + 1}} of {{ pm.numberOfPages() }}</span>
   <button ng-click="curPage = curPage+1" ng-disabled="curPage >= pm.getAllProjects.length/pm.pageSize - 1" type="button" class="pagination-btn-props">Next</button>
</div>